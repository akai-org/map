<!doctype html>
<div class="container editor">
  <h2>Edytor danych dla pliku base-search-data.json - dla Algolii</h2>
  <form ng-submit="saveJsonFile()">
    <button type="button" class="btn btn-success m-t-10px m-b-20px m-r-20px"
      ng-click="addBuilding(buildings)">
      Dodaj nowy budynek
    </button>
    <button type="submit" class="btn btn-warning m-t-10px m-b-20px">
      Zapisz
    </button>
    <div class="editor-building m-b-20px" ng-repeat="building in buildings | orderBy:'-buildingId'"> 
      <h2>Dane budynku:</h2>
      <div class="form-group">
        <label>Nazwa budynku: </label>
        <input class="form-control" type="text" ng-model="building.name" required />
      </div>
      
      <div class="form-group">
        <label>Campus: </label>
        <select class="form-control" ng-model="building.campus" required
          ng-options="campus.shortName for campus in campuses" />
      </div>
      
      <div class="form-group">
        <label>Aliasy: </label>
        <input class="form-control" type="text" ng-model="building.aliasesString" />
        <p>Dodaj aliasy budynku po przecinku, np. Alias1, Alias2, Alias3</p>
      </div>
            
      <div>
        <h3>Sale:</h3>
        <div ng-if="building.rooms.length > 0">
          <div class="m-l-20px m-t-10px floor-items" ng-repeat="room in building.rooms">
            <div class="form-group">
              <label>Nazwa sali:</label>
              <input class="form-control" type="text" ng-model="room.name" required />
            </div>
            <div class="form-group">
              <label>Aliasy:</label>
              <input class="form-control" type="text" ng-model="room.aliasesString" />
              <p>Dodaj aliasy sali po przecinku, np. Alias1, Alias2, Alias3</p>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-success m-t-10px" 
          ng-click="addRoom(building)">
          Dodaj salÄ™
        </button>
      </div>
    </div>
  </form>
</div>
